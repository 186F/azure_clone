<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <title>Azure Dreams Browser Clone</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Aldrich&family=Space+Grotesk:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <main class="app-shell">
      <header class="title-bar">
        <div>
          <p class="subtitle">Mobile Roguelite Prototype</p>
          <h1>Moonlight Tower</h1>
        </div>
        <div class="title-actions">
          <button id="runToggleBtn" class="ghost-btn" type="button">Enter Tower</button>
          <button id="audioBtn" class="ghost-btn" type="button">SFX: On</button>
          <button id="copySeedBtn" class="ghost-btn" type="button">Copy Seed</button>
        </div>
      </header>

      <section class="hud" aria-label="Game stats">
        <div class="stat-chip"><span>Floor</span><strong id="floorStat">1</strong></div>
        <div class="stat-chip"><span>HP</span><strong id="hpStat">0/0</strong></div>
        <div class="stat-chip"><span>XP</span><strong id="xpStat">0/0</strong></div>
        <div class="stat-chip"><span>Bag</span><strong id="potionStat">0/0</strong></div>
        <div class="stat-chip"><span>Seed</span><strong id="seedStat">----</strong></div>
        <div class="stat-chip"><span>Collapse</span><strong id="pressureStat">--</strong></div>
        <div class="stat-chip"><span>Familiar</span><strong id="familiarStat">0/0</strong></div>
        <div class="stat-chip"><span>Town Gold</span><strong id="townGoldStat">0</strong></div>
        <div class="stat-chip"><span>Run Gold</span><strong id="runGoldStat">0</strong></div>
        <div class="stat-chip"><span>Best Floor</span><strong id="bestFloorStat">1</strong></div>
      </section>

      <section class="town-card" id="townCard" aria-label="Town upgrades">
        <div class="town-head">
          <h2>Monsbaiya Town</h2>
          <p id="townSummary">Invest town gold before your next climb.</p>
        </div>
        <ul id="upgradeList" class="upgrade-list"></ul>
      </section>

      <section class="arena-card">
        <canvas id="gameCanvas" aria-label="Tower map"></canvas>
        <p id="statusLine" class="status-line">Tap a direction to start climbing.</p>
      </section>

      <section class="controls" aria-label="Touch controls">
        <div class="dpad" role="group" aria-label="Direction pad">
          <button class="dir-btn up" data-dir="up" type="button" aria-label="Move up">▲</button>
          <button class="dir-btn left" data-dir="left" type="button" aria-label="Move left">◀</button>
          <button class="dir-btn right" data-dir="right" type="button" aria-label="Move right">▶</button>
          <button class="dir-btn down" data-dir="down" type="button" aria-label="Move down">▼</button>
        </div>

        <div class="action-stack" role="group" aria-label="Action buttons">
          <button id="waitBtn" class="action-btn" type="button">Wait</button>
          <button id="potionBtn" class="action-btn" type="button">Use Item</button>
          <button id="cycleBtn" class="action-btn" type="button">Cycle Item</button>
          <button id="retreatBtn" class="action-btn" type="button">Retreat</button>
        </div>
      </section>

      <section class="log-card" aria-live="polite">
        <h2>Tower Log</h2>
        <ul id="logList"></ul>
      </section>

      <section class="hint-card">
        <p>
          Keyboard: Arrow keys/WASD to move, <kbd>Space</kbd> to wait, <kbd>H</kbd> to use item,
          <kbd>Q</kbd>/<kbd>E</kbd> to cycle inventory. <kbd>T</kbd> retreats, <kbd>Enter</kbd>
          starts a run, <kbd>M</kbd> toggles SFX.
        </p>
      </section>
    </main>

    <script src="game-data.js"></script>
    <script src="core.js"></script>
    <script src="systems/spawn.js"></script>
    <script src="systems/combat.js"></script>
    <script src="systems/run.js"></script>
    <script src="app.js"></script>
  </body>
</html>
